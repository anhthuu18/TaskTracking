# PHÃ‚N TÃCH Dá»° ÃN TASK TRACKING - BÃO CÃO CHI TIáº¾T

## ğŸ“‹ Má»¤C Lá»¤C
1. [Pháº§n 2.1: CÃ¡c Giáº£i PhÃ¡p LiÃªn Quan](#pháº§n-21-cÃ¡c-giáº£i-phÃ¡p-liÃªn-quan)
2. [Pháº§n 2.2: CÃ´ng Cá»¥, NgÃ´n Ngá»¯ vÃ  MÃ´i TrÆ°á»ng Láº­p TrÃ¬nh](#pháº§n-22-cÃ´ng-cá»¥-ngÃ´n-ngá»¯-vÃ -mÃ´i-trÆ°á»ng-láº­p-trÃ¬nh)
3. [PhÃ¢n TÃ­ch Chi Tiáº¿t Kiáº¿n TrÃºc Dá»± Ãn](#phÃ¢n-tÃ­ch-chi-tiáº¿t-kiáº¿n-trÃºc-dá»±-Ã¡n)

---

## PHáº¦N 2.1: CÃC GIáº¢I PHÃP LIÃŠN QUAN

### 2.1.1 Tá»•ng Quan CÃ¡c Giáº£i PhÃ¡p Hiá»‡n CÃ³

#### **1. Google Calendar**
**Äáº·c Ä‘iá»ƒm:**
- Quáº£n lÃ½ lá»‹ch sá»± kiá»‡n trá»±c tuyáº¿n
- TÃ­ch há»£p vá»›i Gmail vÃ  cÃ¡c dá»‹ch vá»¥ Google khÃ¡c
- Há»— trá»£ chia sáº» lá»‹ch vá»›i ngÆ°á»i khÃ¡c
- ThÃ´ng bÃ¡o tá»± Ä‘á»™ng cho sá»± kiá»‡n

**Giá»›i háº¡n:**
- âŒ KhÃ´ng chuyÃªn biá»‡t cho quáº£n lÃ½ cÃ´ng viá»‡c (task management)
- âŒ KhÃ´ng há»— trá»£ theo dÃµi thá»i gian lÃ m viá»‡c (time tracking)
- âŒ KhÃ´ng cÃ³ tÃ­nh nÄƒng Pomodoro
- âŒ KhÃ´ng há»— trá»£ phÃ¢n cÃ´ng cÃ´ng viá»‡c chi tiáº¿t
- âŒ KhÃ´ng cÃ³ bÃ¡o cÃ¡o hiá»‡u suáº¥t cÃ¡ nhÃ¢n/nhÃ³m
- âŒ Giao diá»‡n phá»©c táº¡p cho ngÆ°á»i dÃ¹ng di Ä‘á»™ng

#### **2. Notion Reminders**
**Äáº·c Ä‘iá»ƒm:**
- CÃ´ng cá»¥ ghi chÃº vÃ  tá»• chá»©c thÃ´ng tin
- Táº¡o danh sÃ¡ch cÃ´ng viá»‡c (to-do lists)
- Há»— trá»£ nháº¯c nhá»Ÿ cÆ¡ báº£n
- Chia sáº» khÃ´ng gian lÃ m viá»‡c (workspace)

**Giá»›i háº¡n:**
- âŒ KhÃ´ng chuyÃªn biá»‡t cho quáº£n lÃ½ dá»± Ã¡n
- âŒ Nháº¯c nhá»Ÿ khÃ´ng linh hoáº¡t
- âŒ KhÃ´ng cÃ³ tÃ­nh nÄƒng theo dÃµi thá»i gian
- âŒ Hiá»‡u suáº¥t cháº­m trÃªn di Ä‘á»™ng
- âŒ KhÃ´ng há»— trá»£ Pomodoro timer
- âŒ KhÃ´ng cÃ³ bÃ¡o cÃ¡o phÃ¢n tÃ­ch chi tiáº¿t

#### **3. Todoist**
**Äáº·c Ä‘iá»ƒm:**
- á»¨ng dá»¥ng quáº£n lÃ½ cÃ´ng viá»‡c chuyÃªn biá»‡t
- Há»— trá»£ Æ°u tiÃªn cÃ´ng viá»‡c
- TÃ­ch há»£p vá»›i nhiá»u á»©ng dá»¥ng khÃ¡c
- Giao diá»‡n thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng

**Giá»›i háº¡n:**
- âŒ KhÃ´ng há»— trá»£ quáº£n lÃ½ dá»± Ã¡n nhÃ³m máº¡nh
- âŒ KhÃ´ng cÃ³ tÃ­nh nÄƒng Pomodoro tÃ­ch há»£p
- âŒ KhÃ´ng theo dÃµi thá»i gian lÃ m viá»‡c
- âŒ BÃ¡o cÃ¡o hiá»‡u suáº¥t háº¡n cháº¿
- âŒ KhÃ´ng há»— trá»£ phÃ¢n cÃ´ng cÃ´ng viá»‡c chi tiáº¿t
- âŒ KhÃ´ng cÃ³ tÃ­nh nÄƒng thá»i gian thá»±c

#### **4. Asana**
**Äáº·c Ä‘iá»ƒm:**
- Ná»n táº£ng quáº£n lÃ½ dá»± Ã¡n toÃ n diá»‡n
- Há»— trá»£ quáº£n lÃ½ nhÃ³m
- TÃ­ch há»£p nhiá»u cÃ´ng cá»¥
- BÃ¡o cÃ¡o chi tiáº¿t

**Giá»›i háº¡n:**
- âŒ Chi phÃ­ cao
- âŒ Giao diá»‡n phá»©c táº¡p
- âŒ KhÃ´ng chuyÃªn biá»‡t cho Pomodoro
- âŒ KhÃ´ng cÃ³ tÃ­nh nÄƒng theo dÃµi thá»i gian chi tiáº¿t
- âŒ KhÃ´ng tá»‘i Æ°u cho di Ä‘á»™ng

#### **5. Jira**
**Äáº·c Ä‘iá»ƒm:**
- CÃ´ng cá»¥ quáº£n lÃ½ dá»± Ã¡n cho Ä‘á»™i phÃ¡t triá»ƒn
- Theo dÃµi lá»—i (bug tracking)
- Quy trÃ¬nh lÃ m viá»‡c tÃ¹y chá»‰nh

**Giá»›i háº¡n:**
- âŒ QuÃ¡ phá»©c táº¡p cho ngÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng
- âŒ Chi phÃ­ cao
- âŒ KhÃ´ng há»— trá»£ Pomodoro
- âŒ KhÃ´ng tá»‘i Æ°u cho di Ä‘á»™ng
- âŒ KhÃ´ng cÃ³ tÃ­nh nÄƒng theo dÃµi thá»i gian chi tiáº¿t

### 2.1.2 So SÃ¡nh Vá»›i Dá»± Ãn Task Tracking

| TÃ­nh NÄƒng | Google Calendar | Notion | Todoist | Asana | Jira | **Task Tracking** |
|-----------|-----------------|--------|---------|-------|------|-------------------|
| Quáº£n lÃ½ cÃ´ng viá»‡c | â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| Pomodoro Timer | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| Theo dÃµi thá»i gian | âŒ | âŒ | â­ | â­â­ | â­â­ | â­â­â­â­â­ |
| Quáº£n lÃ½ nhÃ³m | â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |
| Tá»‘i Æ°u di Ä‘á»™ng | â­â­ | â­â­ | â­â­â­â­ | â­â­â­ | â­â­ | â­â­â­â­â­ |
| Thá»i gian thá»±c | â­â­ | â­â­ | â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| BÃ¡o cÃ¡o hiá»‡u suáº¥t | â­â­ | â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| Chi phÃ­ | Miá»…n phÃ­ | Miá»…n phÃ­/Tráº£ phÃ­ | Tráº£ phÃ­ | Tráº£ phÃ­ | Tráº£ phÃ­ | Miá»…n phÃ­/Tá»± xÃ¢y dá»±ng |

### 2.1.3 Æ¯u Äiá»ƒm Cá»§a Dá»± Ãn Task Tracking

âœ… **ChuyÃªn biá»‡t cho Pomodoro Technique** - TÃ­ch há»£p sÃ¢u vá»›i phÆ°Æ¡ng phÃ¡p Pomodoro
âœ… **Theo dÃµi thá»i gian chi tiáº¿t** - Ghi láº¡i tá»«ng phiÃªn lÃ m viá»‡c
âœ… **Tá»‘i Æ°u cho di Ä‘á»™ng** - Giao diá»‡n native cho Android/iOS
âœ… **Thá»i gian thá»±c** - Äá»“ng bá»™ dá»¯ liá»‡u real-time
âœ… **Quáº£n lÃ½ nhÃ³m toÃ n diá»‡n** - Workspace, Project, Task vá»›i phÃ¢n quyá»n
âœ… **BÃ¡o cÃ¡o hiá»‡u suáº¥t** - Thá»‘ng kÃª chi tiáº¿t vá» nÄƒng suáº¥t
âœ… **Miá»…n phÃ­/Tá»± xÃ¢y dá»±ng** - KhÃ´ng phá»¥ thuá»™c vÃ o nhÃ  cung cáº¥p thá»© ba

---

## PHáº¦N 2.2: CÃ”NG Cá»¤, NGÃ”N NGá»® VÃ€ MÃ”I TRÆ¯á»œNG Láº¬P TRÃŒNH

### 2.2.1 Kiáº¿n TrÃºc Tá»•ng Thá»ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TASK TRACKING SYSTEM                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Web Frontend   â”‚  â”‚  Mobile App      â”‚  â”‚  Desktop   â”‚ â”‚
â”‚  â”‚   (ReactJS)      â”‚  â”‚  (React Native)  â”‚  â”‚  (Electron)â”‚ â”‚
â”‚  â”‚   Vite + Ant-D   â”‚  â”‚  React Nav 7     â”‚  â”‚            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â”‚
â”‚           â”‚                     â”‚                      â”‚      â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                 â”‚                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                    â”‚   API Gateway / Proxy     â”‚              â”‚
â”‚                    â”‚   (HTTPS + JWT/OAuth2)    â”‚              â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                 â”‚                             â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚        â”‚                        â”‚                        â”‚    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”  â”‚
â”‚  â”‚  NestJS    â”‚          â”‚  Firebase   â”‚        â”‚  Redis  â”‚  â”‚
â”‚  â”‚  Backend   â”‚          â”‚  Real-time  â”‚        â”‚  Cache  â”‚  â”‚
â”‚  â”‚  RESTful   â”‚          â”‚  Sync       â”‚        â”‚         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                                                      â”‚
â”‚        â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚        PostgreSQL Database             â”‚                  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                  â”‚
â”‚  â”‚  â”‚ â€¢ Users & Authentication        â”‚   â”‚                  â”‚
â”‚  â”‚  â”‚ â€¢ Workspaces & Projects         â”‚   â”‚                  â”‚
â”‚  â”‚  â”‚ â€¢ Tasks & Subtasks              â”‚   â”‚                  â”‚
â”‚  â”‚  â”‚ â€¢ Time Tracking Sessions        â”‚   â”‚                  â”‚
â”‚  â”‚  â”‚ â€¢ Notifications                 â”‚   â”‚                  â”‚
â”‚  â”‚  â”‚ â€¢ Roles & Permissions           â”‚   â”‚                  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2.2 Frontend - Web (ReactJS)

**CÃ´ng Nghá»‡:**
- **Framework:** ReactJS 18.3.1
- **Build Tool:** Vite 7.1.2
- **UI Library:** Ant Design 5.27.1
- **Routing:** React Router DOM 6.30.1
- **State Management:** TanStack React Query 5.85.5
- **HTTP Client:** Axios 1.11.0
- **Styling:** SASS 1.91.0
- **Language:** TypeScript 5.8.3

**Cáº¥u TrÃºc:**
```
Website/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # Reusable UI components
â”‚   â”œâ”€â”€ pages/          # Page components
â”‚   â”œâ”€â”€ services/       # API services
â”‚   â”œâ”€â”€ hooks/          # Custom React hooks
â”‚   â”œâ”€â”€ context/        # Context API
â”‚   â”œâ”€â”€ styles/         # Global styles
â”‚   â”œâ”€â”€ types/          # TypeScript types
â”‚   â””â”€â”€ utils/          # Utility functions
â”œâ”€â”€ vite.config.ts      # Vite configuration
â””â”€â”€ tsconfig.json       # TypeScript configuration
```

**Äáº·c Äiá»ƒm:**
- âœ… Giao diá»‡n hiá»‡n Ä‘áº¡i vá»›i Ant Design
- âœ… Hiá»‡u suáº¥t cao vá»›i Vite
- âœ… Quáº£n lÃ½ state hiá»‡u quáº£ vá»›i React Query
- âœ… Type-safe vá»›i TypeScript
- âœ… Responsive design

### 2.2.3 Frontend - Mobile (React Native)

**CÃ´ng Nghá»‡:**
- **Framework:** React Native 0.81.0
- **React Version:** 19.1.0
- **Navigation:** React Navigation 7.x
- **UI Components:** React Native Paper 5.12.3
- **Notifications:** @notifee/react-native 9.1.8
- **Storage:** AsyncStorage 1.21.0
- **Authentication:** Google Sign-In 15.0.0
- **Icons:** React Native Vector Icons 10.3.0
- **Styling:** Linear Gradient, SVG support
- **Language:** TypeScript 5.8.3

**Cáº¥u TrÃºc:**
```
MobileApp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ screens/         # Screen components
â”‚   â”œâ”€â”€ components/      # Reusable components
â”‚   â”œâ”€â”€ navigation/      # Navigation setup
â”‚   â”œâ”€â”€ services/        # Business logic
â”‚   â”‚   â”œâ”€â”€ notificationEventHandler.ts  # Notification handling
â”‚   â”‚   â”œâ”€â”€ activeTimer.ts               # Timer management
â”‚   â”‚   â”œâ”€â”€ backgroundTimerService.ts    # Background timer
â”‚   â”‚   â”œâ”€â”€ localNotification.ts         # Local notifications
â”‚   â”‚   â”œâ”€â”€ authService.ts               # Authentication
â”‚   â”‚   â”œâ”€â”€ taskService.ts               # Task operations
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ types/           # TypeScript types
â”‚   â”œâ”€â”€ hooks/           # Custom hooks
â”‚   â”œâ”€â”€ context/         # Context API
â”‚   â”œâ”€â”€ constants/       # Constants
â”‚   â”œâ”€â”€ utils/           # Utilities
â”‚   â””â”€â”€ assets/          # Images, fonts
â”œâ”€â”€ android/             # Android native code
â”œâ”€â”€ ios/                 # iOS native code
â””â”€â”€ package.json
```

**Há»‡ Äiá»u HÃ nh Há»— Trá»£:**
- âœ… **Android 7.0+** (API 26+)
- âœ… **iOS 12.0+**
- âœ… **Windows** (qua React Native Windows)

**Äáº·c Äiá»ƒm Ná»•i Báº­t:**
- âœ… Notification Handler tiÃªn tiáº¿n (foreground/background)
- âœ… Recurring notifications cho Pomodoro
- âœ… Timer quáº£n lÃ½ táº¡i background
- âœ… Google Sign-In integration
- âœ… Gesture support (swipe, tap)
- âœ… Linear gradient UI

### 2.2.4 Backend - NestJS

**CÃ´ng Nghá»‡:**
- **Framework:** NestJS 10.0.0
- **Runtime:** Node.js 18+
- **Language:** TypeScript 5.0.0
- **ORM:** Prisma 5.0.0
- **Database:** PostgreSQL
- **Authentication:** JWT + Passport.js
- **Validation:** class-validator, class-transformer
- **Email:** Nodemailer 7.0.6
- **SMS:** Twilio 5.9.0
- **Firebase:** Firebase Admin SDK 13.5.0
- **HTTP Client:** Axios 1.12.2

**Cáº¥u TrÃºc Modules:**
```
Backend/src/
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ auth/              # Authentication & Authorization
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ strategies/    # JWT, Local strategies
â”‚   â”‚   â”œâ”€â”€ guards/        # JWT Auth Guard
â”‚   â”‚   â””â”€â”€ dtos/
â”‚   â”‚
â”‚   â”œâ”€â”€ users/             # User Management
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ dtos/
â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚
â”‚   â”œâ”€â”€ workspace/         # Workspace Management
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ dtos/
â”‚   â”‚
â”‚   â”œâ”€â”€ projects/          # Project Management
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ dtos/
â”‚   â”‚
â”‚   â”œâ”€â”€ tasks/             # Task Management
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ time-tracking.controller/
â”‚   â”‚   â”œâ”€â”€ time-tracking.service/
â”‚   â”‚   â””â”€â”€ dtos/
â”‚   â”‚
â”‚   â””â”€â”€ notification/      # Notification System
â”‚       â”œâ”€â”€ controller/
â”‚       â”œâ”€â”€ service/
â”‚       â””â”€â”€ dtos/
â”‚
â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ decorators/        # Custom decorators
â”‚   â”œâ”€â”€ guards/            # Permission guards
â”‚   â””â”€â”€ dto/               # Base DTOs
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ email.service.ts
â”‚   â”œâ”€â”€ firebase.service.ts
â”‚   â”œâ”€â”€ otp.service.ts
â”‚   â””â”€â”€ twilio.service.ts
â”‚
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ prisma.module.ts
â”‚   â””â”€â”€ prisma.service.ts
â”‚
â””â”€â”€ app.module.ts
```

**API Endpoints (RESTful):**
```
Authentication:
  POST   /auth/register
  POST   /auth/login
  POST   /auth/google-login
  POST   /auth/refresh-token
  POST   /auth/logout
  POST   /auth/forgot-password
  POST   /auth/reset-password

Users:
  GET    /users/profile
  PUT    /users/profile
  GET    /users/:id

Workspaces:
  GET    /workspaces
  POST   /workspaces
  GET    /workspaces/:id
  PUT    /workspaces/:id
  DELETE /workspaces/:id
  POST   /workspaces/:id/members
  POST   /workspaces/:id/invite

Projects:
  GET    /projects
  POST   /projects
  GET    /projects/:id
  PUT    /projects/:id
  DELETE /projects/:id
  POST   /projects/:id/members

Tasks:
  GET    /tasks
  POST   /tasks
  GET    /tasks/:id
  PUT    /tasks/:id
  DELETE /tasks/:id
  POST   /tasks/:id/time-tracking

Time Tracking:
  POST   /time-tracking/start
  POST   /time-tracking/stop
  GET    /time-tracking/sessions
  GET    /time-tracking/statistics

Notifications:
  GET    /notifications
  POST   /notifications/mark-read
```

**Äáº·c Äiá»ƒm:**
- âœ… Modular architecture
- âœ… Dependency Injection
- âœ… Middleware support
- âœ… Validation pipes
- âœ… Exception handling
- âœ… CORS enabled
- âœ… Global error handling

### 2.2.5 CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u - PostgreSQL

**CÃ´ng Nghá»‡:**
- **DBMS:** PostgreSQL (quan há»‡)
- **ORM:** Prisma
- **Caching:** Redis
- **Migration Tool:** Prisma Migrate

**Schema ChÃ­nh:**
```sql
-- Users
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR UNIQUE NOT NULL,
  password VARCHAR NOT NULL,
  firstName VARCHAR,
  lastName VARCHAR,
  avatar VARCHAR,
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP DEFAULT NOW()
);

-- Workspaces
CREATE TABLE workspaces (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  description TEXT,
  ownerId INTEGER REFERENCES users(id),
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP DEFAULT NOW()
);

-- Projects
CREATE TABLE projects (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  description TEXT,
  workspaceId INTEGER REFERENCES workspaces(id),
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP DEFAULT NOW()
);

-- Tasks
CREATE TABLE tasks (
  id SERIAL PRIMARY KEY,
  title VARCHAR NOT NULL,
  description TEXT,
  projectId INTEGER REFERENCES projects(id),
  assigneeId INTEGER REFERENCES users(id),
  status VARCHAR,
  priority VARCHAR,
  dueDate TIMESTAMP,
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP DEFAULT NOW()
);

-- Time Tracking Sessions
CREATE TABLE time_tracking_sessions (
  id SERIAL PRIMARY KEY,
  taskId INTEGER REFERENCES tasks(id),
  userId INTEGER REFERENCES users(id),
  sessionType VARCHAR, -- 'focus', 'break', 'longBreak'
  duration INTEGER, -- in seconds
  startTime TIMESTAMP,
  endTime TIMESTAMP,
  createdAt TIMESTAMP DEFAULT NOW()
);

-- Notifications
CREATE TABLE notifications (
  id SERIAL PRIMARY KEY,
  userId INTEGER REFERENCES users(id),
  type VARCHAR,
  title VARCHAR,
  message TEXT,
  read BOOLEAN DEFAULT FALSE,
  createdAt TIMESTAMP DEFAULT NOW()
);
```

**Äáº·c Äiá»ƒm:**
- âœ… Quan há»‡ dá»¯ liá»‡u rÃµ rÃ ng
- âœ… Há»— trá»£ transactions
- âœ… Indexing tá»‘i Æ°u
- âœ… Foreign key constraints
- âœ… Timestamp tracking

### 2.2.6 Caching - Redis

**CÃ´ng Dá»¥ng:**
- ğŸ”„ Cache API responses
- ğŸ”„ Session storage
- ğŸ”„ Real-time data sync
- ğŸ”„ Rate limiting
- ğŸ”„ Pub/Sub messaging

**VÃ­ Dá»¥ Sá»­ Dá»¥ng:**
```typescript
// Cache user profile
await redis.set(`user:${userId}`, JSON.stringify(userProfile), 'EX', 3600);

// Cache workspace data
await redis.set(`workspace:${workspaceId}`, JSON.stringify(workspace), 'EX', 1800);

// Real-time notifications
redis.publish(`notifications:${userId}`, JSON.stringify(notification));
```

### 2.2.7 Real-time Synchronization - Firebase

**CÃ´ng Nghá»‡:**
- **Firebase Realtime Database** hoáº·c **Firestore**
- **Firebase Authentication**
- **Firebase Cloud Messaging (FCM)**

**TÃ­nh NÄƒng:**
- âœ… Real-time data sync
- âœ… Offline support
- âœ… Push notifications
- âœ… Authentication
- âœ… Cloud functions

**á»¨ng Dá»¥ng:**
```typescript
// Real-time task updates
firebase.database().ref(`tasks/${projectId}`).on('value', (snapshot) => {
  // Update UI with new data
});

// Push notifications
firebase.messaging().onMessage((message) => {
  // Handle notification
});
```

### 2.2.8 Báº£o Máº­t

**HTTPS:**
- âœ… Táº¥t cáº£ giao tiáº¿p Ä‘Æ°á»£c mÃ£ hÃ³a SSL/TLS
- âœ… Certificate tá»« Let's Encrypt hoáº·c CA Ä‘Ã¡ng tin cáº­y
- âœ… HSTS headers

**Authentication:**
```typescript
// JWT Token
const token = jwt.sign(
  { userId, email },
  process.env.JWT_SECRET,
  { expiresIn: '24h' }
);

// OAuth2 (Google)
const googleAuth = new GoogleAuth({
  keyFilename: process.env.GOOGLE_APPLICATION_CREDENTIALS,
});
```

**Authorization:**
```typescript
// Role-based access control
@UseGuards(JwtAuthGuard, WorkspaceRoleGuard)
@WorkspaceRoles('admin', 'manager')
@Post('projects')
createProject(@Body() dto: CreateProjectDto) {
  // Only admin/manager can create projects
}
```

**Validation:**
```typescript
// Input validation
@IsEmail()
@IsNotEmpty()
email: string;

@MinLength(8)
@Matches(/[A-Z]/, { message: 'Password must contain uppercase' })
password: string;
```

### 2.2.9 Deployment & DevOps

**MÃ´i TrÆ°á»ng PhÃ¡t Triá»ƒn:**
- Node.js 18+
- npm/yarn package manager
- Git version control

**Build & Deployment:**
```bash
# Backend
npm run build
npm run start:prod

# Mobile
npm run android
npm run ios
npm run android-release

# Web
npm run build
npm run preview
```

**Docker Support (Recommended):**
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build
EXPOSE 3002
CMD ["npm", "run", "start:prod"]
```

---

## PHÃ‚N TÃCH CHI TIáº¾T KIáº¾N TRÃšC Dá»° ÃN

### 3.1 Notification System (Há»‡ Thá»‘ng ThÃ´ng BÃ¡o)

**File:** `MobileApp/src/services/notificationEventHandler.ts`

**Chá»©c NÄƒng:**
```typescript
class NotificationEventHandler {
  // 1. Foreground Notifications (App Ä‘ang má»Ÿ)
  setupForegroundHandler()
    â”œâ”€ Xá»­ lÃ½ khi user tap notification
    â”œâ”€ Xá»­ lÃ½ khi user dismiss notification
    â””â”€ Navigate Ä‘áº¿n task detail screen

  // 2. Background Notifications (App Ä‘Ã£ Ä‘Ã³ng)
  setupBackgroundHandler()
    â”œâ”€ LÆ°u state khi app Ä‘Ã³ng
    â”œâ”€ Restore state khi app má»Ÿ
    â””â”€ Xá»­ lÃ½ notification tap

  // 3. Recurring Notifications (ThÃ´ng bÃ¡o láº·p láº¡i)
  startRecurringNotification()
    â”œâ”€ Gá»­i notification má»—i 7 giÃ¢y
    â”œâ”€ Tiáº¿p tá»¥c cho Ä‘áº¿n khi user tap
    â””â”€ Há»— trá»£ Pomodoro timer

  // 4. State Management
  savePendingNotificationState()  // LÆ°u state vÃ o AsyncStorage
  loadPendingNotificationState()  // KhÃ´i phá»¥c state
  clearNotificationState()        // XÃ³a state
}
```

**Æ¯u Äiá»ƒm:**
- âœ… Xá»­ lÃ½ cáº£ foreground vÃ  background
- âœ… Recurring notifications cho Pomodoro
- âœ… Persistent state management
- âœ… Timeout handling (5 minutes)
- âœ… Android & iOS support

**Cáº£i Tiáº¿n CÃ³ Thá»ƒ:**
- ğŸ”§ ThÃªm sound customization
- ğŸ”§ ThÃªm vibration patterns
- ğŸ”§ ThÃªm notification grouping
- ğŸ”§ ThÃªm action buttons

### 3.2 Timer Management (Quáº£n LÃ½ Timer)

**Files:**
- `activeTimer.ts` - Active timer state
- `backgroundTimerService.ts` - Background timer
- `notificationEventHandler.ts` - Notification triggers

**Luá»“ng Hoáº¡t Äá»™ng:**
```
User Start Pomodoro
        â†“
[activeTimer] - LÆ°u state
        â†“
[backgroundTimerService] - Cháº¡y background
        â†“
Timer Countdown (25 phÃºt)
        â†“
Time's Up
        â†“
[notificationEventHandler] - Gá»­i notification
        â†“
Recurring Notification (7s interval)
        â†“
User Tap Notification
        â†“
Navigate to TaskTracking Screen
```

### 3.3 Authentication Flow

**Backend:**
```
POST /auth/register
  â”œâ”€ Validate input
  â”œâ”€ Hash password (bcryptjs)
  â”œâ”€ Create user
  â””â”€ Return JWT token

POST /auth/login
  â”œâ”€ Validate credentials
  â”œâ”€ Compare password
  â”œâ”€ Generate JWT token
  â””â”€ Return token + user info

POST /auth/google-login
  â”œâ”€ Verify Google token
  â”œâ”€ Find or create user
  â”œâ”€ Generate JWT token
  â””â”€ Return token + user info
```

**Mobile:**
```
GoogleSignIn.signIn()
  â”œâ”€ Get Google token
  â”œâ”€ Send to backend
  â”œâ”€ Receive JWT token
  â”œâ”€ Store in AsyncStorage
  â””â”€ Navigate to Dashboard
```

### 3.4 Workspace & Project Structure

**Hierarchy:**
```
User
  â”œâ”€ Workspace 1
  â”‚   â”œâ”€ Project 1
  â”‚   â”‚   â”œâ”€ Task 1
  â”‚   â”‚   â”‚   â”œâ”€ Time Tracking Session 1
  â”‚   â”‚   â”‚   â”œâ”€ Time Tracking Session 2
  â”‚   â”‚   â”‚   â””â”€ ...
  â”‚   â”‚   â”œâ”€ Task 2
  â”‚   â”‚   â””â”€ ...
  â”‚   â”œâ”€ Project 2
  â”‚   â””â”€ ...
  â”œâ”€ Workspace 2
  â””â”€ ...
```

**Permissions:**
```
Workspace Level:
  â”œâ”€ Owner - Full control
  â”œâ”€ Admin - Manage members, projects
  â”œâ”€ Manager - Create/edit projects
  â””â”€ Member - View/edit assigned tasks

Project Level:
  â”œâ”€ Owner - Full control
  â”œâ”€ Lead - Manage tasks
  â”œâ”€ Developer - Edit assigned tasks
  â””â”€ Viewer - View only
```

### 3.5 Task Management System

**Task Lifecycle:**
```
Create Task
  â”œâ”€ Title, Description
  â”œâ”€ Assign to member
  â”œâ”€ Set priority (Low/Medium/High)
  â”œâ”€ Set status (Todo/In Progress/Done)
  â””â”€ Set due date

Start Pomodoro
  â”œâ”€ 25 min focus session
  â”œâ”€ 5 min break
  â”œâ”€ After 4 sessions â†’ 15 min long break
  â””â”€ Track time in database

Complete Task
  â”œâ”€ Mark as Done
  â”œâ”€ Calculate total time spent
  â”œâ”€ Generate statistics
  â””â”€ Update project progress
```

### 3.6 Time Tracking & Analytics

**Metrics Tracked:**
```
Per Session:
  â”œâ”€ Session type (focus/break/longBreak)
  â”œâ”€ Duration (seconds)
  â”œâ”€ Start time
  â”œâ”€ End time
  â””â”€ Task ID

Per Task:
  â”œâ”€ Total time spent
  â”œâ”€ Number of sessions
  â”œâ”€ Estimated vs actual time
  â””â”€ Completion rate

Per User:
  â”œâ”€ Daily productivity
  â”œâ”€ Weekly statistics
  â”œâ”€ Monthly trends
  â”œâ”€ Most productive hours
  â””â”€ Task completion rate

Per Project:
  â”œâ”€ Team productivity
  â”œâ”€ Project progress
  â”œâ”€ Time estimation accuracy
  â””â”€ Team member performance
```

### 3.7 Real-time Synchronization

**Firebase Integration:**
```
Mobile App â†â†’ Firebase â†â†’ Backend â†â†’ PostgreSQL
                  â†“
              Redis Cache
                  â†“
            Web App / Other Clients
```

**Sync Events:**
- Task created/updated/deleted
- User joined/left workspace
- Project status changed
- Time tracking session completed
- Notification sent

---

## TÃ“MLÆ¯á»¢C CÃ”NG NGHá»†

| Layer | CÃ´ng Nghá»‡ | PhiÃªn Báº£n | Má»¥c ÄÃ­ch |
|-------|-----------|----------|---------|
| **Frontend Web** | ReactJS | 18.3.1 | UI Web |
| | Vite | 7.1.2 | Build tool |
| | Ant Design | 5.27.1 | UI components |
| | React Query | 5.85.5 | State management |
| **Frontend Mobile** | React Native | 0.81.0 | UI Mobile |
| | React Navigation | 7.x | Navigation |
| | Notifee | 9.1.8 | Notifications |
| | AsyncStorage | 1.21.0 | Local storage |
| **Backend** | NestJS | 10.0.0 | API framework |
| | Prisma | 5.0.0 | ORM |
| | Passport.js | 0.7.0 | Authentication |
| **Database** | PostgreSQL | Latest | Primary DB |
| | Redis | Latest | Caching |
| **Real-time** | Firebase | 13.5.0 | Real-time sync |
| **Communication** | Twilio | 5.9.0 | SMS |
| | Nodemailer | 7.0.6 | Email |
| **Security** | JWT | - | Token auth |
| | bcryptjs | 3.0.2 | Password hash |
| | HTTPS | - | Encryption |

---

## Káº¾T LUáº¬N

Dá»± Ã¡n **Task Tracking** lÃ  má»™t á»©ng dá»¥ng quáº£n lÃ½ cÃ´ng viá»‡c toÃ n diá»‡n vá»›i cÃ¡c tÃ­nh nÄƒng ná»•i báº­t:

1. **ChuyÃªn biá»‡t cho Pomodoro** - TÃ­ch há»£p sÃ¢u vá»›i phÆ°Æ¡ng phÃ¡p Pomodoro
2. **Äa ná»n táº£ng** - Web, Mobile (Android/iOS), Desktop
3. **Thá»i gian thá»±c** - Firebase sync, Redis caching
4. **Báº£o máº­t cao** - JWT, OAuth2, HTTPS, bcrypt
5. **Quáº£n lÃ½ nhÃ³m** - Workspace, Project, Task vá»›i phÃ¢n quyá»n
6. **BÃ¡o cÃ¡o chi tiáº¿t** - Thá»‘ng kÃª nÄƒng suáº¥t, thá»i gian lÃ m viá»‡c
7. **Kiáº¿n trÃºc hiá»‡n Ä‘áº¡i** - Modular, scalable, maintainable

Dá»± Ã¡n vÆ°á»£t trá»™i so vá»›i cÃ¡c giáº£i phÃ¡p hiá»‡n cÃ³ nhÆ° Google Calendar, Notion, Todoist bá»Ÿi sá»± chuyÃªn biá»‡t vÃ  tá»‘i Æ°u hÃ³a cho nhu cáº§u quáº£n lÃ½ cÃ´ng viá»‡c vá»›i Pomodoro Technique.


